# ============================================================================
# GCP Production Environment Configuration Template
# ============================================================================
#
# IMPORTANT: This file is a REFERENCE TEMPLATE for the "env" secret in GCP Secret Manager.
#
# The actual "env" secret in Secret Manager should be a JSON object containing
# all these variables as key-value pairs.
#
# Example JSON format for the "env" secret:
# {
#   "NODE_ENV": "production",
#   "PORT": "8080",
#   "DB_HOST": "/cloudsql/ai-photo-studio-18:asia-south1:postgres-db",
#   "DB_PASSWORD": "your-password",
#   "JWT_SECRET": "your-jwt-secret",
#   ...
# }
#
# To create/update the secret:
#   1. Create env.json with all variables in JSON format
#   2. Create: gcloud secrets create env --data-file=env.json
#   3. Update: gcloud secrets versions add env --data-file=env.json
#
# See ENV_VARIABLES_LIST.md for the complete list of all required and optional variables.
#
# ============================================================================

# Application
NODE_ENV=production
PORT=8080

# Database Configuration (Cloud SQL PostgreSQL)
# Actual values from your GCP setup:
DB_HOST=/cloudsql/ai-photo-studio-18:asia-south1:postgres-db
DB_PORT=5432
DB_USERNAME=dbuser
DB_PASSWORD=your-secure-db-password  # Store in Secret Manager
DB_DATABASE=ai_photo_studio_db

# JWT Configuration (Store in Secret Manager)
JWT_SECRET=your-super-secure-jwt-secret
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=your-super-secure-refresh-secret
JWT_REFRESH_EXPIRES_IN=7d

# CORS Configuration
CORS_ORIGIN=https://yourdomain.com,https://app.yourdomain.com

# Rate Limiting
THROTTLE_TTL=60
THROTTLE_LIMIT=100

# File Upload
MAX_FILE_SIZE=10485760
UPLOAD_PATH=./uploads

# Gemini API (Store API key in Secret Manager)
GEMINI_API_KEY=your-gemini-api-key
GEMINI_API_URL=https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent

# Redis Configuration (Optional - skip if not using Redis)
# For Cloud Memorystore, use the private IP address from the instance
# REDIS_HOST=10.x.x.x  # Private IP from Cloud Memorystore instance
# REDIS_PORT=6379
# REDIS_PASSWORD=  # Leave empty if AUTH is not enabled, or use Secret Manager
# REDIS_DB=0
# REDIS_DEFAULT_TTL=3600
# REDIS_MAX_ITEMS=1000

# Storage Configuration
STORAGE_PROVIDER=gcs

# GCS Configuration
GCS_BUCKET_NAME=ai-photo-studio-18-app-storage
GCS_PROJECT_ID=ai-photo-studio-18
# GOOGLE_APPLICATION_CREDENTIALS not needed in Cloud Run - uses service account automatically added in env with variables name GOOGLE_APPLICATION_CREDENTIALS
GCS_CDN_BASE_URL=https://storage.googleapis.com

# Base URL for file serving (Cloud Run service URL)
# Update after deployment with actual service URL
BASE_URL=https://saas-backend-xxxxx-as.a.run.app

# Logging
LOG_LEVEL=info
LOG_FILE=logs/app.log

# Security
CSRF_ENABLED=true
HELMET_ENABLED=true

# Billing (Stripe) - Store in Secret Manager
STRIPE_SECRET_KEY=sk_live_your_live_stripe_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# WhatsApp Business API Configuration (Store in Secret Manager)
WHATSAPP_PROVIDER=meta-direct
WHATSAPP_API_URL=https://graph.facebook.com/v18.0
WHATSAPP_ACCESS_TOKEN=your-access-token
WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id
WHATSAPP_BUSINESS_ACCOUNT_ID=your-business-account-id
WHATSAPP_APP_ID=your-app-id
WHATSAPP_APP_SECRET=your-app-secret

# BSP Provider Credentials (MSG91) - Store in Secret Manager
MSG91_API_KEY=your-msg91-api-key
MSG91_SENDER_ID=your-sender-id

# BSP Provider Credentials (Gupshup) - Store in Secret Manager
GUPSHUP_API_KEY=your-gupshup-api-key
GUPSHUP_APP_NAME=your-app-name

# WhatsApp Template Names
WHATSAPP_OTP_SIGNUP_TEMPLATE=otp_signup
WHATSAPP_OTP_RESET_TEMPLATE=otp_reset_password

# Super Admin Configuration (Store in Secret Manager)
SUPER_ADMIN_EMAIL=superadmin@yourdomain.com
SUPER_ADMIN_PASSWORD=your-secure-password

# ============================================================================
# JSON Format Example (for the "env" secret in Secret Manager)
# ============================================================================
#
# Convert the above KEY=VALUE format to JSON:
#
# {
#   "NODE_ENV": "production",
#   "PORT": "8080",
#   "DB_HOST": "/cloudsql/ai-photo-studio-18:asia-south1:postgres-db",
#   "DB_PORT": "5432",
#   "DB_USERNAME": "dbuser",
#   "DB_PASSWORD": "your-secure-db-password",
#   "DB_DATABASE": "ai_photo_studio_db",
#   "JWT_SECRET": "your-super-secure-jwt-secret",
#   "JWT_EXPIRES_IN": "15m",
#   "JWT_REFRESH_SECRET": "your-super-secure-refresh-secret",
#   "JWT_REFRESH_EXPIRES_IN": "7d",
#   "STORAGE_PROVIDER": "gcs",
#   "GCS_BUCKET_NAME": "ai-photo-studio-18-app-storage",
#   "GCS_PROJECT_ID": "ai-photo-studio-18",
#   "GCS_CDN_BASE_URL": "https://storage.googleapis.com",
#   "BASE_URL": "https://saas-backend-xxxxx-as.a.run.app",
#   "CORS_ORIGIN": "https://yourdomain.com,https://app.yourdomain.com",
#   "LOG_LEVEL": "info",
#   "CSRF_ENABLED": "true",
#   "HELMET_ENABLED": "true",
#   "GEMINI_API_KEY": "your-gemini-api-key",
#   "STRIPE_SECRET_KEY": "sk_live_your_live_stripe_key",
#   "STRIPE_WEBHOOK_SECRET": "whsec_your_webhook_secret",
#   "GCP_PROJECT_ID": "ai-photo-studio-18",
#   "SUPER_ADMIN_EMAIL": "superadmin@yourdomain.com",
#   "SUPER_ADMIN_PASSWORD": "your-secure-password"
# }
#
# Note: All values must be strings in JSON (even numbers like "8080" not 8080)
# See ENV_VARIABLES_LIST.md for the complete list of all variables.
# ============================================================================

